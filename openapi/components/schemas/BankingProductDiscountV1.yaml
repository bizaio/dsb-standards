properties:
  accruedRate:
    description: >-
      A discount rate calculated based on a proportion of the calculated
      interest accrued on the account. Note that the currency of the fee
      discount is expected to be the same as the currency of the fee itself. One
      of amount, balanceRate, transactionRate, accruedRate and feeRate is
      mandatory. Unless noted in additionalInfo, assumes the application and
      calculation frequency are the same as the corresponding fee
    type: string
    x-cds-type: RateString
    example: "0.012"
  additionalInfo:
    description: Display text providing more information on the discount
    type: string
    example: "Discount Information"
  additionalInfoUri:
    description: Link to a web page with more information on this discount
    type: string
    x-cds-type: URIString
    format: uri
  additionalValue:
    description: >-
      Generic field containing additional information relevant to the
      [discountType](#tocSproductdiscounttypedoc) specified. Whether mandatory
      or not is dependent on the value of
      [discountType](#tocSproductdiscounttypedoc)
    type: string
    example: "Type specific value, see docs"
  amount:
    description: >-
      Value of the discount. When following properties include one of amount,
      balanceRate, transactionRate, accruedRate and feeRate is mandatory
    type: string
    x-cds-type: AmountString
    example: "11.00"
  balanceRate:
    description: >-
      A discount rate calculated based on a proportion of the balance. Note that
      the currency of the fee discount is expected to be the same as the
      currency of the fee itself. One of amount, balanceRate, transactionRate,
      accruedRate and feeRate is mandatory. Unless noted in additionalInfo,
      assumes the application and calculation frequency are the same as the
      corresponding fee
    type: string
    x-cds-type: RateString
    example: "0.0103"
  description:
    description: Description of the discount
    type: string
  discountType:
    description: >-
      The type of discount. See the next section for an overview of valid values
      and their meaning
    enum:
      - BALANCE
      - DEPOSITS
      - PAYMENTS
      - FEE_CAP
      - ELIGIBILITY_ONLY
    type: string
    example: BALANCE
  eligibility:
    description: Eligibility constraints that apply to this discount
    items:
      $ref: ./BankingProductDiscountEligibilityV1.yaml
    type: array
  feeRate:
    description: >-
      A discount rate calculated based on a proportion of the fee to which this
      discount is attached. Note that the currency of the fee discount is
      expected to be the same as the currency of the fee itself. One of amount,
      balanceRate, transactionRate, accruedRate and feeRate is mandatory. Unless
      noted in additionalInfo, assumes the application and calculation frequency
      are the same as the corresponding fee
    type: string
    x-cds-type: RateString
    example: "0.0124"
  transactionRate:
    description: >-
      A discount rate calculated based on a proportion of a transaction. Note
      that the currency of the fee discount is expected to be the same as the
      currency of the fee itself. One of amount, balanceRate, transactionRate,
      accruedRate and feeRate is mandatory
    type: string
    x-cds-type: RateString
    example: "0.00234"
required:
  - description
  - discountType
type: object
x-conditional:
  - balanceRate
  - transactionRate
  - accruedRate
  - feeRate
  - additionalValue
  - amount
